import{u,r as f,j as e,y as l}from"./index-yh7jtPQN.js";import{a as h}from"./index-B9ygI19o.js";const x="_form_1m4qj_19",j="_formWrapper_1m4qj_39",s={form:x,formWrapper:j,"submit-btn":"_submit-btn_1m4qj_49"},v=()=>{const m=u(),c=sessionStorage.getItem("email"),[a,i]=f.useState({firstName:"",lastName:"",email:c,password:"",confirmPassword:""}),t=r=>{const{name:o,value:n}=r.target;i(p=>({...p,[o]:n}))},d=async r=>{r.preventDefault();const o=sessionStorage.getItem("token");try{await h.put("http://localhost:5000/api/team/myProfile",a,{headers:{Authorization:`Bearer ${o}`}}).then(()=>{if(l("Profile updated successfully!",{type:"success"}),a.password.trim()!==""){sessionStorage.removeItem("token"),m("/signin");return}i({firstName:"",lastName:"",password:"",confirmPassword:""})})}catch(n){console.log("Error updating user profile",n)}};return e.jsx("div",{children:e.jsxs("form",{onSubmit:d,className:s.form,children:[e.jsx("p",{children:"Edit Profile"}),e.jsxs("div",{className:s.formWrapper,children:[e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",onChange:t,value:a.firstName})]}),e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",onChange:t,value:a.lastName})]}),e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:a.email,readOnly:!0,onClick:()=>{l("Email cannot be changed",{type:"warning"})}})]}),e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",name:"password",onChange:t,value:a.password})]}),e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",onChange:t,value:a.confirmPassword})]})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("button",{className:s["submit-btn"],type:"submit",children:"Save"})})]})})};export{v as default};
