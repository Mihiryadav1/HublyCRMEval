import{r as o,j as e}from"./index-yh7jtPQN.js";import{a as h}from"./index-B9ygI19o.js";import{G as g}from"./iconBase-B40uof1y.js";import{a as S}from"./index-DLkXPCR4.js";import{a as N}from"./index-DGgZGZ4Y.js";const L="_tableWrapper_1ksqy_27",I="_sortHeader_1ksqy_55",M="_profileImage_1ksqy_91",q="_icon_1ksqy_105",T="_addBtn_1ksqy_133",w="_deleteBtn_1ksqy_187",A="_saveBtn_1ksqy_189",E="_cancelBtn_1ksqy_205",$="_deletepopup_1ksqy_217",H="_addMemberPopup_1ksqy_251",s={"team-container":"_team-container_1ksqy_1",tableWrapper:L,sortHeader:I,profileImage:M,icon:q,addBtn:T,deleteBtn:w,saveBtn:A,cancelBtn:E,deletepopup:$,addMemberPopup:H,"input-group":"_input-group_1ksqy_295"};function z(l){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.5 240H272v-74.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-74.5c-8.8 0-16 6-16 16s7.5 16 16 16H240v74.5c0 9.5 7 16 16 16s16-7.2 16-16V272h74.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(l)}function F(l){return g({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 3.59375 L 15.28125 4.28125 L 7.28125 12.28125 L 5.59375 14 L 26.40625 14 L 24.71875 12.28125 L 16.71875 4.28125 Z M 16 6.4375 L 21.5625 12 L 10.4375 12 Z M 5.59375 18 L 7.28125 19.71875 L 15.28125 27.71875 L 16 28.40625 L 16.71875 27.71875 L 24.71875 19.71875 L 26.40625 18 Z M 10.4375 20 L 21.5625 20 L 16 25.5625 Z"},child:[]}]})(l)}const Z=()=>{const[l,p]=o.useState([]),[_,i]=o.useState(null),[y,c]=o.useState(!1),[x,v]=o.useState("asc"),[r,b]=o.useState({name:"",email:"",role:""}),d=t=>{const{name:a,value:n}=t.target;b(m=>({...m,[a]:n}))},f=async()=>{const t=sessionStorage.getItem("token");await h.get("http://localhost:5000/api/team",{headers:{Authorization:`Bearer ${t}`}}).then(a=>{const n=a.data.teamMembers;console.log(n),p(n)})},k=async t=>{const a=sessionStorage.getItem("token");await h.delete(`http://localhost:5000/api/team/${t}`,{headers:{Authorization:`Bearer ${a}`}}).then(n=>{console.log(n)})},B=async()=>{const t=sessionStorage.getItem("token");console.log(r),await h.post("http://localhost:5000/api/team/createMember",r,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{console.log(a)})},C=t=>{const a=[...l].sort((n,m)=>{const u=n[t]?.toString().toLowerCase(),j=m[t]?.toString().toLowerCase();return x==="asc"?u.localeCompare(j):j.localeCompare(u)});p(a),v(x==="asc"?"desc":"asc")};return o.useEffect(()=>{f()},[]),e.jsxs("div",{className:s["team-container"],children:[e.jsx("h2",{children:"Team"}),e.jsxs("div",{className:s.team,children:[e.jsx("div",{className:s.tableWrapper,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsxs("th",{className:s.sortHeader,onClick:()=>C("name"),style:{display:"flex",alignItems:"center",gap:"5px"},children:["Full Name ",e.jsx(F,{})]}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{className:s.profileImage,src:t.profileImage,alt:""})}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.phone}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.role}),e.jsxs("td",{style:{position:"relative"},children:[e.jsx("button",{className:s.icon,onClick:()=>{i(t._id)},children:e.jsx(S,{})}),e.jsx("button",{className:s.icon,onClick:()=>{},children:e.jsx(N,{})})]}),_===t._id&&e.jsxs("div",{className:s.deletepopup,children:[e.jsx("h3",{children:"This teammate will be deleted."}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"10px"},children:[e.jsx("button",{className:s.deleteBtn,onClick:()=>{k(t._id),i(null)},children:"Confirm"}),e.jsx("button",{className:s.cancelBtn,onClick:()=>{i(null)},children:"Cancel"})]})]})]}))})]})}),e.jsx("div",{style:{display:"flex",justifyContent:"end",margin:"1rem 0"},children:e.jsxs("button",{className:s.addBtn,onClick:()=>{c(!0)},children:[e.jsx("span",{className:s.icon,children:e.jsx(z,{})}),e.jsx("span",{children:"Add Members"})]})}),y&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:s.addMemberPopup,children:[e.jsx("h2",{children:"Add Team Members"}),e.jsx("p",{style:{marginTop:"15px"},children:"Talk with colleagues in a group chat. Messages in this group are only visible to it's participants. New teammates may only be invited by the administrators."}),e.jsxs("div",{className:s.form,children:[e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"username",children:"User Name"}),e.jsx("input",{type:"text",placeholder:"User name",name:"name",value:r.name,onChange:d})]}),e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Email",name:"email",value:r.email,onChange:d})]}),e.jsxs("div",{className:s["input-group"],children:[e.jsx("label",{htmlFor:"role",children:"Designation"}),e.jsxs("select",{name:"role",id:"",style:{padding:"0.5rem",borderRadius:"0.5rem"},value:r.role,onChange:d,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"user",children:"Member"})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"10px"},children:[e.jsx("button",{className:s.saveBtn,onClick:()=>{B(),c(!1)},children:"Save"}),e.jsx("button",{className:s.cancelBtn,onClick:()=>{c(!1)},children:"Cancel"})]})]})})]})]})};export{Z as default};
