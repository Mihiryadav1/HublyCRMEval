import{u as g,R as d,j as s,L as u,y as p}from"./index-yh7jtPQN.js";import{a as h}from"./index-B9ygI19o.js";const x="_logo_1ioss_45",n={"signin-container":"_signin-container_1ioss_1","sign-banner":"_sign-banner_1ioss_13","signin-form-container":"_signin-form-container_1ioss_33",logo:x,"signin-form":"_signin-form_1ioss_33"},f=()=>{const i=g(),[a,r]=d.useState({username:"",password:""}),t=o=>{const{name:e,value:c}=o.target;r(m=>({...m,[e]:c}))},l=async o=>{if(o.preventDefault(),a.username&&a.password)try{await h.post("http://localhost:5000/api/auth/login",{name:a.username,password:a.password}).then(e=>{console.log(e.data.user,"Data"),p("Logged in successfully!",{type:"success"}),sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("role",e.data.user.role),sessionStorage.setItem("userId",e.data.user._id),sessionStorage.setItem("email",e.data.user.email)}),i("/app")}catch(e){console.log(e)}};return s.jsxs("div",{className:n["signin-container"],children:[s.jsxs("div",{className:n["signin-form-container"],children:[s.jsx("div",{className:n.logo,children:s.jsx("img",{src:"/logo.svg",alt:""})}),s.jsxs("div",{className:n["signin-form"],children:[s.jsx("h2",{children:"Sign in to your Plexify"}),s.jsxs("form",{onSubmit:l,children:[s.jsxs("div",{className:n["input-group"],children:[s.jsx("label",{htmlFor:"username",children:"Username"}),s.jsx("input",{type:"text",name:"username",onChange:t,value:a.username})]}),s.jsxs("div",{className:n["input-group"],children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsx("input",{type:"password",name:"password",onChange:t,value:a.password})]}),s.jsx("button",{type:"submit",className:n["submit-btn"],children:"Log In"})]}),s.jsxs("p",{style:{textAlign:"center",marginTop:"2rem"},children:["Don't have an account?"," ",s.jsx(u,{to:"/signup",children:"Sign up"})]})]})]}),s.jsx("div",{className:n["sign-banner"]})]})};export{f as default};
